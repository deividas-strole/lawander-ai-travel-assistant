{"ast":null,"code":"const calculateDistance = (lat1, lon1, lat2, lon2) => {\n  const R = 6371;\n  const dLat = (lat2 - lat1) * Math.PI / 180;\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\nexport const geocodeDestination = async destinationName => {\n  try {\n    console.log(\"Geocoding destination:\", destinationName);\n    const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(destinationName)}&limit=1`);\n    const data = await response.json();\n    console.log(\"Geocoding response:\", data);\n    if (data && data.length > 0) {\n      const {\n        lat,\n        lon\n      } = data[0];\n      const coordinates = [parseFloat(lat), parseFloat(lon)];\n      console.log(\"Found coordinates:\", coordinates);\n      return {\n        coordinates,\n        displayName: data[0].display_name\n      };\n    } else {\n      console.log(\"No results found for:\", destinationName);\n    }\n  } catch (error) {\n    console.error(\"Geocoding error:\", error);\n  }\n  return null;\n};\nexport const geocodePlaces = async (placeNames, placeDescriptions = {}, destCoords = null, destination = \"\") => {\n  console.log(\"=== GEOCODING PLACES ===\");\n  console.log(\"Place names:\", placeNames);\n  console.log(\"Destination coords:\", destCoords);\n  if (!destCoords) {\n    console.error(\"‚ùå CRITICAL: No destination coordinates provided - cannot filter places!\");\n    return {\n      markers: [],\n      foundPlaces: []\n    };\n  }\n  const newMarkers = [];\n  const foundPlaces = [];\n  const geocodeSinglePlace = async placeName => {\n    try {\n      const city = destination;\n      console.log(`\\nüîç Geocoding: \"${placeName}\"`);\n      const searchQueries = [];\n      if (placeName.toLowerCase().includes(\"museum\")) {\n        const nameWithoutMuseum = placeName.replace(/museum/gi, \"\").trim();\n        searchQueries.push(`${nameWithoutMuseum} ${city}`);\n        searchQueries.push(`${nameWithoutMuseum} Anyk≈°ƒçiai`);\n        searchQueries.push(`museum ${city}`);\n      }\n      searchQueries.push(`${placeName} ${city}`);\n      searchQueries.push(`${placeName} Anyk≈°ƒçiai`);\n      searchQueries.push(placeName);\n      const lowerName = placeName.toLowerCase();\n      if (lowerName.includes(\"church\") || lowerName.includes(\"matthew\")) {\n        searchQueries.push(`church ${city}`);\n        searchQueries.push(`ba≈ænyƒçia Anyk≈°ƒçiai`);\n      }\n      if (lowerName.includes(\"park\")) {\n        searchQueries.push(`park ${city}`);\n        searchQueries.push(`${city} regional park`);\n      }\n      if (lowerName.includes(\"restaurant\") || lowerName.includes(\"cafe\")) {\n        searchQueries.push(`restaurant ${city}`);\n        searchQueries.push(`cafe ${city}`);\n      }\n      if (lowerName.includes(\"spa\")) {\n        searchQueries.push(`spa ${city}`);\n        searchQueries.push(`SPA Vilnius ${city}`);\n      }\n      if (lowerName.includes(\"stone\") || lowerName.includes(\"puntukas\")) {\n        searchQueries.push(`Puntukas ${city}`);\n        searchQueries.push(`Puntukas stone`);\n      }\n      if (lowerName.includes(\"tree\") || lowerName.includes(\"canopy\") || lowerName.includes(\"treetop\")) {\n        searchQueries.push(`treetop path ${city}`);\n        searchQueries.push(`laju takas`);\n      }\n      let found = false;\n      for (const query of searchQueries) {\n        console.log(`   Trying: \"${query}\"`);\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=15&addressdetails=1`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          console.log(`   ‚Üí Got ${data.length} results`);\n          const resultsWithDistance = data.map(item => {\n            const dist = calculateDistance(destCoords[0], destCoords[1], parseFloat(item.lat), parseFloat(item.lon));\n            return {\n              ...item,\n              distance: dist\n            };\n          });\n          const nearbyResults = resultsWithDistance.filter(item => item.distance <= 50);\n          if (nearbyResults.length === 0) {\n            console.log(`   ‚ùå No results within 50km`);\n            continue;\n          }\n          console.log(`   ‚úì ${nearbyResults.length} within 50km`);\n          nearbyResults.sort((a, b) => a.distance - b.distance);\n          const bestMatch = nearbyResults[0];\n          const {\n            lat,\n            lon,\n            display_name,\n            distance\n          } = bestMatch;\n          const coordinates = [parseFloat(lat), parseFloat(lon)];\n          console.log(`   ‚úÖ FOUND: ${display_name.substring(0, 70)}`);\n          console.log(`      Distance: ${distance.toFixed(1)}km`);\n          newMarkers.push({\n            position: coordinates,\n            popup: `${placeName}<br><small>${display_name}</small>`,\n            type: \"place\",\n            placeName: placeName,\n            fullAddress: display_name,\n            aiDescription: placeDescriptions[placeName] || null\n          });\n          foundPlaces.push(placeName);\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        console.log(`   ‚ùå NOT FOUND: \"${placeName}\"`);\n      }\n    } catch (error) {\n      console.error(`   ‚ùå ERROR: ${placeName}:`, error);\n    }\n  };\n  const concurrency = 3;\n  let idx = 0;\n  async function runBatch() {\n    const batch = [];\n    for (let i = 0; i < concurrency && idx < placeNames.length; i++, idx++) {\n      batch.push(geocodeSinglePlace(placeNames[idx]));\n    }\n    await Promise.all(batch);\n    if (idx < placeNames.length) {\n      await new Promise(resolve => setTimeout(resolve, 300));\n      return runBatch();\n    }\n  }\n  await runBatch();\n  if (newMarkers.length > 0) {\n    console.log(`\\n‚úÖ Found ${newMarkers.length} places`);\n  } else {\n    console.log(\"\\n‚ùå No markers were found\");\n  }\n  const notFoundPlaces = placeNames.filter(name => !foundPlaces.includes(name));\n  if (notFoundPlaces.length > 0) {\n    console.log(`‚ö†Ô∏è Not found: ${notFoundPlaces.join(\", \")}`);\n  }\n  return {\n    markers: newMarkers,\n    foundPlaces\n  };\n};","map":{"version":3,"names":["calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","geocodeDestination","destinationName","console","log","response","fetch","encodeURIComponent","data","json","length","lat","lon","coordinates","parseFloat","displayName","display_name","error","geocodePlaces","placeNames","placeDescriptions","destCoords","destination","markers","foundPlaces","newMarkers","geocodeSinglePlace","placeName","city","searchQueries","toLowerCase","includes","nameWithoutMuseum","replace","trim","push","lowerName","found","query","resultsWithDistance","map","item","dist","distance","nearbyResults","filter","sort","b","bestMatch","substring","toFixed","position","popup","type","fullAddress","aiDescription","concurrency","idx","runBatch","batch","i","Promise","all","resolve","setTimeout","notFoundPlaces","name","join"],"sources":["C:/Users/Deividas/aaaaaMyProjects/LaWander/Front/src/services/geocodingService.js"],"sourcesContent":["const calculateDistance = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371;\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n};\r\n\r\nexport const geocodeDestination = async (destinationName) => {\r\n  try {\r\n    console.log(\"Geocoding destination:\", destinationName);\r\n    const response = await fetch(\r\n      `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(\r\n        destinationName\r\n      )}&limit=1`\r\n    );\r\n    const data = await response.json();\r\n    console.log(\"Geocoding response:\", data);\r\n\r\n    if (data && data.length > 0) {\r\n      const { lat, lon } = data[0];\r\n      const coordinates = [parseFloat(lat), parseFloat(lon)];\r\n      console.log(\"Found coordinates:\", coordinates);\r\n\r\n      return {\r\n        coordinates,\r\n        displayName: data[0].display_name,\r\n      };\r\n    } else {\r\n      console.log(\"No results found for:\", destinationName);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Geocoding error:\", error);\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const geocodePlaces = async (placeNames, placeDescriptions = {}, destCoords = null, destination = \"\") => {\r\n  console.log(\"=== GEOCODING PLACES ===\");\r\n  console.log(\"Place names:\", placeNames);\r\n  console.log(\"Destination coords:\", destCoords);\r\n\r\n  if (!destCoords) {\r\n    console.error(\"‚ùå CRITICAL: No destination coordinates provided - cannot filter places!\");\r\n    return { markers: [], foundPlaces: [] };\r\n  }\r\n\r\n  const newMarkers = [];\r\n  const foundPlaces = [];\r\n\r\n  const geocodeSinglePlace = async (placeName) => {\r\n    try {\r\n      const city = destination;\r\n\r\n      console.log(`\\nüîç Geocoding: \"${placeName}\"`);\r\n\r\n      const searchQueries = [];\r\n\r\n      if (placeName.toLowerCase().includes(\"museum\")) {\r\n        const nameWithoutMuseum = placeName.replace(/museum/gi, \"\").trim();\r\n        searchQueries.push(`${nameWithoutMuseum} ${city}`);\r\n        searchQueries.push(`${nameWithoutMuseum} Anyk≈°ƒçiai`);\r\n        searchQueries.push(`museum ${city}`);\r\n      }\r\n\r\n      searchQueries.push(`${placeName} ${city}`);\r\n      searchQueries.push(`${placeName} Anyk≈°ƒçiai`);\r\n      searchQueries.push(placeName);\r\n\r\n      const lowerName = placeName.toLowerCase();\r\n      if (lowerName.includes(\"church\") || lowerName.includes(\"matthew\")) {\r\n        searchQueries.push(`church ${city}`);\r\n        searchQueries.push(`ba≈ænyƒçia Anyk≈°ƒçiai`);\r\n      }\r\n      if (lowerName.includes(\"park\")) {\r\n        searchQueries.push(`park ${city}`);\r\n        searchQueries.push(`${city} regional park`);\r\n      }\r\n      if (lowerName.includes(\"restaurant\") || lowerName.includes(\"cafe\")) {\r\n        searchQueries.push(`restaurant ${city}`);\r\n        searchQueries.push(`cafe ${city}`);\r\n      }\r\n      if (lowerName.includes(\"spa\")) {\r\n        searchQueries.push(`spa ${city}`);\r\n        searchQueries.push(`SPA Vilnius ${city}`);\r\n      }\r\n      if (lowerName.includes(\"stone\") || lowerName.includes(\"puntukas\")) {\r\n        searchQueries.push(`Puntukas ${city}`);\r\n        searchQueries.push(`Puntukas stone`);\r\n      }\r\n      if (lowerName.includes(\"tree\") || lowerName.includes(\"canopy\") || lowerName.includes(\"treetop\")) {\r\n        searchQueries.push(`treetop path ${city}`);\r\n        searchQueries.push(`laju takas`);\r\n      }\r\n\r\n      let found = false;\r\n      for (const query of searchQueries) {\r\n        console.log(`   Trying: \"${query}\"`);\r\n\r\n        const response = await fetch(\r\n          `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&limit=15&addressdetails=1`\r\n        );\r\n        const data = await response.json();\r\n\r\n        if (data && data.length > 0) {\r\n          console.log(`   ‚Üí Got ${data.length} results`);\r\n\r\n          const resultsWithDistance = data.map(item => {\r\n            const dist = calculateDistance(\r\n              destCoords[0], destCoords[1],\r\n              parseFloat(item.lat), parseFloat(item.lon)\r\n            );\r\n            return { ...item, distance: dist };\r\n          });\r\n\r\n          const nearbyResults = resultsWithDistance.filter(item => item.distance <= 50);\r\n\r\n          if (nearbyResults.length === 0) {\r\n            console.log(`   ‚ùå No results within 50km`);\r\n            continue;\r\n          }\r\n\r\n          console.log(`   ‚úì ${nearbyResults.length} within 50km`);\r\n\r\n          nearbyResults.sort((a, b) => a.distance - b.distance);\r\n\r\n          const bestMatch = nearbyResults[0];\r\n          const { lat, lon, display_name, distance } = bestMatch;\r\n          const coordinates = [parseFloat(lat), parseFloat(lon)];\r\n\r\n          console.log(`   ‚úÖ FOUND: ${display_name.substring(0, 70)}`);\r\n          console.log(`      Distance: ${distance.toFixed(1)}km`);\r\n\r\n          newMarkers.push({\r\n            position: coordinates,\r\n            popup: `${placeName}<br><small>${display_name}</small>`,\r\n            type: \"place\",\r\n            placeName: placeName,\r\n            fullAddress: display_name,\r\n            aiDescription: placeDescriptions[placeName] || null,\r\n          });\r\n          foundPlaces.push(placeName);\r\n          found = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!found) {\r\n        console.log(`   ‚ùå NOT FOUND: \"${placeName}\"`);\r\n      }\r\n    } catch (error) {\r\n      console.error(`   ‚ùå ERROR: ${placeName}:`, error);\r\n    }\r\n  };\r\n\r\n  const concurrency = 3;\r\n  let idx = 0;\r\n  async function runBatch() {\r\n    const batch = [];\r\n    for (let i = 0; i < concurrency && idx < placeNames.length; i++, idx++) {\r\n      batch.push(geocodeSinglePlace(placeNames[idx]));\r\n    }\r\n    await Promise.all(batch);\r\n    if (idx < placeNames.length) {\r\n      await new Promise((resolve) => setTimeout(resolve, 300));\r\n      return runBatch();\r\n    }\r\n  }\r\n\r\n  await runBatch();\r\n\r\n  if (newMarkers.length > 0) {\r\n    console.log(`\\n‚úÖ Found ${newMarkers.length} places`);\r\n  } else {\r\n    console.log(\"\\n‚ùå No markers were found\");\r\n  }\r\n\r\n  const notFoundPlaces = placeNames.filter((name) => !foundPlaces.includes(name));\r\n  if (notFoundPlaces.length > 0) {\r\n    console.log(`‚ö†Ô∏è Not found: ${notFoundPlaces.join(\", \")}`);\r\n  }\r\n\r\n  return { markers: newMarkers, foundPlaces };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}